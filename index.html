<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Drift - Ambient Music for Focus & Calm</title>
  <meta name="description" content="Ambient music for focus and calm. 24 mood presets, audio visualizer, Pomodoro timer, breathing exercises, and nature sounds.">
  <meta name="theme-color" content="#1a1c2e">
  <link rel="icon" type="image/svg+xml" href="/icon.svg">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  <link rel="manifest" href="/manifest.json">
  <meta property="og:title" content="Drift - Ambient Music for Focus & Calm">
  <meta property="og:description" content="Ambient music for focus and calm. 24 mood presets, audio visualizer, Pomodoro timer, breathing exercises, and nature sounds.">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Drift - Ambient Music for Focus & Calm">
  <meta name="twitter:description" content="Ambient music for focus and calm. 24 mood presets, audio visualizer, Pomodoro timer, breathing exercises, and nature sounds.">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div id="loading">
    <div class="spinner"></div>
    <div class="loading-text">Preparing your space</div>
  </div>

  <div class="container">
    <header>
      <h1 class="logo">Drift</h1>
      <p class="tagline">Ambient music for focus & calm</p>
    </header>

    <canvas id="visualizer" aria-hidden="true"></canvas>

    <div class="player-card">
      <div class="mood-selector">
        <span class="bpm" id="bpm">70 BPM</span>
        <select id="track-select">
          <optgroup label="Focus">
            <option value="deepfocus">Deep Focus</option>
            <option value="flow">Flow State</option>
            <option value="minimal">Minimal</option>
            <option value="study">Study Session</option>
          </optgroup>
          <optgroup label="Chill">
            <option value="lofi">Lo-Fi Dreams</option>
            <option value="coffee">Coffee Shop</option>
            <option value="jazz">Late Night Jazz</option>
            <option value="vinyl">Vinyl Crackle</option>
          </optgroup>
          <optgroup label="Nature">
            <option value="rain">Rainy Day</option>
            <option value="ocean">Ocean Waves</option>
            <option value="forest">Forest Morning</option>
            <option value="thunder">Distant Thunder</option>
          </optgroup>
          <optgroup label="Ambient">
            <option value="ambient">Ambient Space</option>
            <option value="drone">Deep Drone</option>
            <option value="ethereal">Ethereal Pads</option>
            <option value="cosmos">Cosmic Drift</option>
          </optgroup>
          <optgroup label="Wellness">
            <option value="meditation">Meditation</option>
            <option value="breathing">Breathing</option>
            <option value="sleep">Sleep</option>
            <option value="healing">Healing Tones</option>
          </optgroup>
          <optgroup label="Moody">
            <option value="night">Late Night</option>
            <option value="melancholy">Melancholy</option>
            <option value="noir">Film Noir</option>
            <option value="mystery">Mystery</option>
          </optgroup>
        </select>
      </div>

      <div class="controls">
        <button class="skip-btn" id="prev" title="Previous">
          <svg viewBox="0 0 24 24"><path d="M6 6h2v12H6zm3.5 6l8.5 6V6z"/></svg>
        </button>
        <button class="play-btn" id="play" title="Play/Pause">
          <svg id="play-icon" viewBox="0 0 24 24"><path d="M8 5v14l11-7z"/></svg>
          <svg id="pause-icon" viewBox="0 0 24 24" style="display:none"><path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"/></svg>
        </button>
        <button class="skip-btn" id="next" title="Next">
          <svg viewBox="0 0 24 24"><path d="M6 18l8.5-6L6 6v12zM16 6v12h2V6h-2z"/></svg>
        </button>
      </div>

      <div class="volume-section">
        <span class="volume-label">Volume</span>
        <div class="volume-control">
          <svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3z"/></svg>
          <input type="range" class="volume-slider" id="volume" min="0" max="100" value="70" aria-label="Volume">
          <svg viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"/></svg>
        </div>
      </div>

      <div class="ambience-section">
        <span class="volume-label">Ambience</span>
        <div class="ambience-grid">
          <div class="sound-row" data-sound="rain">
            <span class="sound-icon">üåß</span>
            <input type="range" class="sound-slider" min="0" max="100" value="0" aria-label="Rain volume">
          </div>
          <div class="sound-row" data-sound="wind">
            <span class="sound-icon">üí®</span>
            <input type="range" class="sound-slider" min="0" max="100" value="0" aria-label="Wind volume">
          </div>
          <div class="sound-row" data-sound="thunder">
            <span class="sound-icon">‚õà</span>
            <input type="range" class="sound-slider" min="0" max="100" value="0" aria-label="Thunder volume">
          </div>
          <div class="sound-row" data-sound="fire">
            <span class="sound-icon">üî•</span>
            <input type="range" class="sound-slider" min="0" max="100" value="0" aria-label="Fire volume">
          </div>
        </div>
      </div>

    </div>

    <div class="mode-card">
      <div class="mode-tabs">
        <button class="mode-tab active" data-mode="focus">Focus</button>
        <button class="mode-tab" data-mode="calm">Calm</button>
      </div>

      <div class="mode-content" id="focus-content">
        <div class="timer-section">
          <div class="section-title">Pomodoro</div>
          <div class="timer-display">
            <span class="timer-time" id="timer-time" aria-live="off" aria-atomic="true">25:00</span>
          </div>
          <div class="timer-controls">
            <button class="timer-btn primary" id="timer-start">Start</button>
            <button class="timer-btn" id="timer-reset">Reset</button>
            <button class="timer-btn" id="timer-skip">Skip</button>
          </div>
          <div class="timer-presets">
            <button class="preset-btn active" data-focus="25" data-break="5">25/5</button>
            <button class="preset-btn" data-focus="50" data-break="10">50/10</button>
            <button class="preset-btn" data-focus="90" data-break="20">90/20</button>
          </div>
        </div>

        <div class="tasks-section">
          <div class="tasks-header">
            <span class="tasks-title">Tasks</span>
            <span class="tasks-count" id="tasks-count"></span>
          </div>
          <input type="text" class="task-input" id="task-input" placeholder="Add a task..." maxlength="50">
          <ul class="task-list" id="task-list"></ul>
        </div>
      </div>

      <div class="mode-content hidden" id="calm-content">
        <div class="breathing-section">
          <div class="breathing-header">
            <span class="section-title">Breathing</span>
            <span class="breathing-rounds" id="breathing-rounds"></span>
          </div>
          <div class="breathing-visual">
            <div class="breathing-circle-container">
              <div class="breathing-circle" id="breathing-circle"></div>
            </div>
            <div class="breathing-phase" id="breathing-phase" aria-live="assertive"></div>
            <div class="breathing-timer" id="breathing-timer" aria-live="off" aria-atomic="true"></div>
          </div>
          <div class="breathing-controls">
            <button class="breathing-btn primary" id="breathing-start">Start</button>
            <button class="breathing-btn" id="breathing-stop">Stop</button>
          </div>
          <div class="breathing-settings">
            <div class="breathing-setting-group">
              <span class="breathing-setting-label">Pattern</span>
              <div class="breathing-setting-options">
                <button class="breathing-preset-btn active" data-pattern="box" title="4s in, 4s hold, 4s out, 4s hold">Box</button>
                <button class="breathing-preset-btn" data-pattern="478" title="4s in, 7s hold, 8s out">4-7-8</button>
                <button class="breathing-preset-btn" data-pattern="relaxing" title="4s in, 6s out">Calm</button>
              </div>
            </div>
            <div class="breathing-setting-group">
              <span class="breathing-setting-label">Rounds</span>
              <div class="breathing-setting-options">
                <button class="breathing-rounds-btn active" data-rounds="4">4</button>
                <button class="breathing-rounds-btn" data-rounds="6">6</button>
                <button class="breathing-rounds-btn" data-rounds="8">8</button>
                <button class="breathing-rounds-btn" data-rounds="0">‚àû</button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="keyboard-hint">
      <kbd>Space</kbd> Play/Pause
      <kbd>‚Üê</kbd> <kbd>‚Üí</kbd> Switch moods
    </div>

    <div class="footer">
      Generative ambient music for focus & calm
    </div>
  </div>

  <script type="module" src="/main.js"></script>
</body>
</html>
